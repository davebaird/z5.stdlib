#!/bin/bash
import errcho

check.i_am_root () {
    check.i_can_root

    if ! which groupadd > /dev/null; then
        errxit "root environment not properly initialised - can't find groupadd"
    fi
}

check.i_can_root () {
    if [[ $EUID -ne 0 ]]; then
        errxit "$0 must be run as root"
    fi
}

# server info
# cat /etc/os-release
# cat /etc/lsb-release
# uname -a
test.is_debian () {
    [[ $(get.os) == debian ]]
}

test.is_ubuntu () {
    [[ $(get.os) == ubuntu ]]
}

get.os () {
    source /etc/os-release
    echo "$ID"
}
